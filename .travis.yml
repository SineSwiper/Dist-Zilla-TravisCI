sudo: false
language: perl
perl:
   - 'blead'
   - '5.20'
   - '5.18'
   - '5.16'
   - '5.14'
   - '5.12'
   - '5.10'
   - '5.8'
env:
   - BUILD=0
   - BUILD=1
matrix:
   allow_failures:
      - perl: 'blead'
      - perl: '5.8'
   fast_finish: true
branches:
   only: /^build\/.*/
before_install:
   - rm .travis.yml
   - export AUTHOR_TESTING=0
   - cpanm --quiet --notest --skip-satisfied autovivification indirect multidimensional
install:
   - cpanm --installdeps --verbose --notest .
notifications:
   email: false
   irc:
      channels:
         - irc.perl.org#sanity
      on_failure: always
      on_success: change
      template:
         - '%{branch}#%{build_number} by %{author}: %{message} (%{build_url})'
      use_notice: true
